import{r as l,j as e}from"./vendor-react-DQm72ddU.js";import{G as x}from"./GlassCard-j9FAGHJ9.js";import{B as D}from"./Badge-DYgt4PDc.js";import{S as z}from"./StatCard-CJJv-4uN.js";import{D as F}from"./DataTable-B2yQOht1.js";import{T as P}from"./Timeline-Pt7hZl41.js";import{J as U}from"./JsonViewer-DjFi1Ix6.js";import{M as _}from"./MarkdownViewer-DblKejLt.js";import{a as h}from"./format-BhzS2UOT.js";import{u as H}from"./index-JO7r3NaT.js";import"./Checkbox-C8L1aTFi.js";import"./vendor-recharts-CmCmrmcd.js";const j="__all__";function q({data:n,columns:t,levelField:o,levelOptions:s,searchFields:k,title:y,subtitle:w,maxHeight:c="520px",autoScroll:p=!0,paused:R=!1,onPause:S,onClear:M,labels:m={},rowKey:V,className:B}){const[u,L]=l.useState(j),[b,J]=l.useState(""),[T,I]=l.useState(p),N=l.useRef(null),g={all:m.all??"ALL",search:m.search??"Search...",pause:m.pause??"Pause",resume:m.resume??"Resume",clear:m.clear??"Clear",autoScroll:m.autoScroll??"Auto-scroll"},G=l.useMemo(()=>s?new Map(s.map(r=>[r.value,r])):new Map,[s]),E=l.useMemo(()=>s?new Map(s.map((r,i)=>[r.value,i])):new Map,[s]),C=l.useMemo(()=>{let r=n;if(u!==j&&o&&s){const i=E.get(u);i!=null&&i>=0&&(r=r.filter(v=>{const d=String(v[o]??""),f=E.get(d);return f!=null&&f>=i}))}if(b.trim()){const i=b.toLowerCase(),v=k??t.map(d=>d.key);r=r.filter(d=>v.some(f=>{const a=d[f];return a!=null&&String(a).toLowerCase().includes(i)}))}return r},[n,u,b,o,s,k,t,E]);l.useEffect(()=>{I(p)},[p]),l.useEffect(()=>{T&&N.current&&(N.current.scrollTop=N.current.scrollHeight)},[C.length,T]);const W=typeof w=="function"?w(C.length):w;return e.jsxs("div",{className:B,style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(y||S||M)&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",flexWrap:"wrap"},children:[e.jsxs("div",{children:[y&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"20px",fontWeight:700,letterSpacing:"-.3px"},children:y}),e.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"var(--t4)",background:"rgba(var(--gl), .08)",borderRadius:"8px",padding:"2px 8px"},children:C.length})]}),W&&e.jsx("div",{style:{fontSize:"12px",color:"var(--t4)",marginTop:"2px"},children:W})]}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[S&&e.jsx("button",{className:"gi",onClick:S,style:{padding:"8px 16px",borderRadius:"12px",border:"none",cursor:"pointer",fontSize:"13px",fontWeight:600,fontFamily:"var(--font)"},children:R?g.resume:g.pause}),M&&e.jsx("button",{className:"gi",onClick:M,style:{padding:"8px 16px",borderRadius:"12px",border:"none",cursor:"pointer",fontSize:"13px",fontWeight:600,fontFamily:"var(--font)"},children:g.clear})]})]}),e.jsxs("div",{className:"gc",style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 16px",flexWrap:"wrap"},children:[o&&s&&e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"gi",onClick:()=>L(j),style:{padding:"5px 12px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"11px",fontWeight:600,fontFamily:"var(--mono)",letterSpacing:".3px",color:u===j?"var(--p700)":"var(--t4)",background:u===j?"rgba(var(--gl), .12)":"transparent",transition:"all .15s"},children:g.all}),s.map(r=>e.jsx("button",{className:"gi",onClick:()=>L(r.value),style:{padding:"5px 12px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"11px",fontWeight:600,fontFamily:"var(--mono)",letterSpacing:".3px",color:u===r.value?"var(--p700)":"var(--t4)",background:u===r.value?"rgba(var(--gl), .12)":"transparent",transition:"all .15s"},children:r.label??r.value},r.value))]}),e.jsx("input",{type:"text",placeholder:g.search,value:b,onChange:r=>J(r.target.value),style:{flex:1,minWidth:"120px",padding:"7px 12px",borderRadius:"8px",border:"1px solid var(--div)",background:"rgba(var(--gl), .04)",color:"var(--t1)",fontSize:"13px",fontFamily:"var(--font)",outline:"none"}}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"var(--t3)",cursor:"pointer",userSelect:"none",whiteSpace:"nowrap"},children:[e.jsx("input",{type:"checkbox",checked:T,onChange:r=>I(r.target.checked),style:{accentColor:"var(--p500)",width:"14px",height:"14px",minHeight:"unset"}}),g.autoScroll]})]}),e.jsx("div",{ref:N,className:"gc",style:{overflowX:"auto",overflowY:"auto",maxHeight:c,padding:0,position:"relative"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[e.jsx("thead",{children:e.jsx("tr",{children:t.map(r=>e.jsx("th",{style:{textAlign:r.align??"left",padding:"10px 14px",fontSize:"10px",fontWeight:600,textTransform:"uppercase",letterSpacing:".5px",color:"var(--t3)",borderBottom:"1px solid var(--div)",whiteSpace:"nowrap",width:r.width,position:"sticky",top:0,background:"var(--bg)",zIndex:2,boxShadow:"0 1px 0 var(--div)"},children:r.header},r.key))})}),e.jsx("tbody",{children:C.map((r,i)=>{const v=o?String(r[o]??""):void 0,d=v?G.get(v):void 0,f=V?V(r,i):i;return e.jsx("tr",{style:{transition:"background .1s"},onMouseEnter:a=>{a.currentTarget.style.background="rgba(var(--gl), .04)"},onMouseLeave:a=>{a.currentTarget.style.background=""},children:t.map(a=>{const A=o&&a.key===o;return e.jsx("td",{style:{padding:"10px 14px",borderBottom:"1px solid var(--div)",fontFamily:a.mono?"var(--mono)":void 0,whiteSpace:a.nowrap?"nowrap":void 0,textAlign:a.align??"left",maxWidth:a.width,wordBreak:a.nowrap?void 0:"break-word",color:A?void 0:"var(--t2)"},children:a.render?a.render(r):A?e.jsx("span",{style:{fontSize:"10px",fontWeight:700,fontFamily:"var(--mono)",letterSpacing:".5px",padding:"2px 8px",borderRadius:"6px",color:"white",background:(d==null?void 0:d.color)??"var(--t4)"},children:String(r[a.key]??"")}):String(r[a.key]??"")},a.key)})},f)})})]})})]})}const K=[{value:"DEBUG",label:"DEBUG"},{value:"INFO",label:"INFO"},{value:"WARN",label:"WARN"},{value:"ERROR",label:"ERROR"}];function oe(){const{locale:n}=H(),t=(c,p,R,S)=>n==="ko"?c:n==="fr"?R??p:n==="ja"?S??p:p,[o,s]=l.useState(new Set),k=[{id:"d1",name:t("Pantry 파이프라인","Pantry pipeline","Pipeline Pantry","Pantryパイプライン"),score:92,status:"ok"},{id:"d2",name:t("레시피 동기화","Recipe sync","Synchronisation recettes","レシピ同期"),score:78,status:"warn"},{id:"d3",name:t("재고 매처","Inventory matcher","Matcher inventaire","在庫マッチャー"),score:87,status:"ok"}],y=[{ts:h("19:01:11",n),level:"INFO",component:"router",message:t("해시 라우트 동기화 완료","hash route synced","route hash synchronisée","ハッシュルート同期完了")},{ts:h("19:01:34",n),level:"WARN",component:"inventory",message:t("재고 추정 오차 5% 초과","stock estimate drift > 5%","dérive estimée du stock > 5 %","在庫推定誤差が5%超")},{ts:h("19:02:00",n),level:"ERROR",component:"chat",message:t("도구 타임아웃, 재시도 예약","tool timeout retry scheduled","nouvelle tentative après timeout outil","ツールタイムアウト再試行を予約")},{ts:h("19:02:14",n),level:"DEBUG",component:"cache",message:t("캐시 히트율 94%","cache hit ratio 94%","taux de hit cache 94 %","キャッシュヒット率94%")}],w=[{key:"ts",header:t("시간","TIME","HEURE","時間"),mono:!0,width:"90px"},{key:"level",header:t("레벨","LEVEL","NIVEAU","レベル"),width:"90px"},{key:"component",header:t("컴포넌트","COMPONENT","COMPOSANT","コンポーネント"),mono:!0,width:"120px"},{key:"message",header:t("메시지","MESSAGE","MESSAGE","メッセージ"),mono:!0}];return e.jsxs("div",{className:"demo-library-stack",children:[e.jsxs("div",{className:"demo-library-head",children:[e.jsx("h3",{children:t("데이터","Data","Données","データ")}),e.jsx(D,{variant:"info",children:t("StatCard, DataTable, Timeline, JsonViewer, MarkdownViewer, LogViewer","StatCard, DataTable, Timeline, JsonViewer, MarkdownViewer, LogViewer","StatCard, DataTable, Timeline, JsonViewer, MarkdownViewer, LogViewer","StatCard, DataTable, Timeline, JsonViewer, MarkdownViewer, LogViewer")})]}),e.jsxs("div",{className:"r2",children:[e.jsx(x,{hover:!1,children:e.jsx(z,{label:t("활성 파이프라인","Active pipelines","Pipelines actifs","アクティブパイプライン"),value:8,delta:t("+2 이번 주","+2 this week","+2 cette semaine","+2 今週"),deltaType:"positive"})}),e.jsx(x,{hover:!1,children:e.jsx(z,{label:t("경고 신호","Warn signals","Signaux d'alerte","警告シグナル"),value:2,valueColor:"var(--warn)"})})]}),e.jsxs(x,{hover:!1,children:[e.jsx("div",{className:"demo-card-title",children:"DataTable"}),e.jsx(F,{columns:[{key:"name",header:t("이름","Name","Nom","名前")},{key:"score",header:t("점수","Score","Score","スコア")},{key:"status",header:t("상태","Status","Statut","状態"),render:c=>e.jsx(D,{variant:c.status==="ok"?"success":"warning",children:c.status==="ok"?t("정상","ok","ok","ok"):t("주의","warn","alerte","注意")})}],data:k,rowKey:c=>c.id,selectable:!0,selectedKeys:o,onSelectionChange:s})]}),e.jsxs("div",{className:"r2",children:[e.jsxs(x,{hover:!1,children:[e.jsx("div",{className:"demo-card-title",children:t("타임라인","Timeline","Chronologie","タイムライン")}),e.jsx(P,{entries:[{time:h("19:01",n),title:t("라우터 업데이트","Router update","Mise à jour du routeur","ルーター更新"),detail:t("해시 내비게이션 리스너 재연결","Hash navigation listener reattached","Écouteur de navigation hash réattaché","ハッシュナビゲーションリスナー再接続")},{time:h("19:03",n),title:t("재고 동기화","Inventory sync","Sync inventaire","在庫同期"),detail:t("부족 배지 재계산","Low stock badge recalculated","Badge stock bas recalculé","在庫不足バッジ再計算"),dotColor:"var(--warn)"},{time:h("19:04",n),title:t("스냅샷 저장","Snapshot saved","Snapshot enregistré","スナップショット保存"),detail:t("데모 상태 직렬화 완료","Demo state serialized","État de démo sérialisé","デモ状態をシリアライズ"),dotColor:"var(--ok)"}]})]}),e.jsxs(x,{hover:!1,children:[e.jsx("div",{className:"demo-card-title",children:"JsonViewer"}),e.jsx(U,{data:{id:"session-c1",links:["r2","t2","i1"],quality:{plating:8.8,prep:9.1,repeatability:8.4}}})]})]}),e.jsxs("div",{className:"r2",children:[e.jsxs(x,{hover:!1,children:[e.jsx("div",{className:"demo-card-title",children:"MarkdownViewer"}),e.jsx(_,{content:n==="ko"?`## 주간 메모

- 라우트 매처 정교화
- 드릴다운 링크 추가
- 상세 뷰 컨텍스트 개선

| 지표 | 값 |
| --- | --- |
| 커버리지 | 100% |
| 경고 | 2 |
`:n==="fr"?`## Notes hebdomadaires

- Matcher de route affiné
- Liens de drill-down ajoutés
- Contexte de la vue détaillée amélioré

| Indicateur | Valeur |
| --- | --- |
| Couverture | 100% |
| Alertes | 2 |
`:n==="ja"?`## 週間ノート

- ルートマッチャーを改善
- ドリルダウンリンクを追加
- 詳細ビューのコンテキストを改善

| 指標 | 値 |
| --- | --- |
| カバレッジ | 100% |
| 警告 | 2 |
`:`## Weekly notes

- Refined route matcher
- Added drill-down links
- Improved detail view context

| Metric | Value |
| --- | --- |
| Coverage | 100% |
| Warnings | 2 |
`})]}),e.jsxs(x,{hover:!1,children:[e.jsx("div",{className:"demo-card-title",children:"LogViewer"}),e.jsx(q,{title:t("데모 로그","Demo logs","Journaux de démo","デモログ"),data:y,columns:w,levelField:"level",levelOptions:K,searchFields:["component","message"]})]})]})]})}export{oe as DataSection};
